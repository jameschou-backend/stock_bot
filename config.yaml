FINMIND_TOKEN: ""
DB_DIALECT: "mysql"
DB_HOST: "127.0.0.1"
DB_PORT: 3307
DB_NAME: "stock_bot"
DB_USER: ""
DB_PASSWORD: ""
TOPN: 20
LABEL_HORIZON_DAYS: 20
TRAIN_LOOKBACK_YEARS: 5
SCHEDULE_TIME: "16:50"
TZ: "Asia/Taipei"
API_HOST: "0.0.0.0"
API_PORT: 8000
DASHBOARD_SHOW_ML: false
BOOTSTRAP_DAYS: 365
MIN_AVG_TURNOVER: 0.5  # 20日平均成交值門檻（億元），0.5 = 5000萬，排除冷門股
MIN_AMT_20: 50000000  # 20日平均成交值門檻（元），與 MIN_AVG_TURNOVER 並存，優先使用此欄位
USE_ADJUSTED_PRICE: true  # true: ret/ma/breakout 使用還原價；false: 使用原始 close
ENABLE_TRADABILITY_FILTER: true  # true: 啟用狀態硬過濾（halt/suspend/disposition...）
FALLBACK_DAYS: 10
# 大盤過濾器（市場下行時減碼）
MARKET_FILTER_ENABLED: true
MARKET_FILTER_MA_DAYS: 60        # 用 60 日均線判斷市場多空
MARKET_FILTER_BEAR_TOPN: 10      # 空頭市場時只選 10 檔（減半）
REGIME_DETECTOR: "ma"            # 市場狀態偵測器（目前支援 ma）
DATA_QUALITY_MODE: "research"    # strict|research|dev
SELECTION_MODE: "model"          # model|multi_agent
MULTI_AGENT_TOPN: 20
MULTI_AGENT_WEIGHTS: {"tech": 0.35, "flow": 0.30, "margin": 0.10, "fund": 0.15, "theme": 0.10}
# 回測設定
STOPLOSS_PCT: -0.07              # 停損比例 (-7%)
TRANSACTION_COST_PCT: 0.001425   # 單邊手續費 0.1425%（每筆最低 20 元由回測引擎處理）
STRATEGY_WEIGHTS_BULL: {"MomentumTrend": 0.6, "MeanReversion": 0.2, "DefensiveLowVol": 0.2}
STRATEGY_WEIGHTS_BEAR: {"MomentumTrend": 0.2, "MeanReversion": 0.3, "DefensiveLowVol": 0.5}
EVAL_TOPK_LIST: [10, 20]         # ranker 驗證指標使用的 K 值
# API Rate Limiting
FINMIND_REQUESTS_PER_HOUR: 6000  # FinMind API 每小時請求限制（付費會員 6000，免費 600）
CHUNK_DAYS: 180  # 資料抓取每個 chunk 的天數（建議 180 天減少 API 次數）
INSTITUTIONAL_BULK_CHUNK_DAYS: 90  # 法人全市場抓取建議 chunk 天數（約 3 個月）
MARGIN_BULK_CHUNK_DAYS: 90  # 融資融券全市場抓取建議 chunk 天數（約 3 個月）
FINMIND_RETRY_MAX: 3  # FinMind API 最大重試次數
FINMIND_RETRY_BACKOFF: 1.0  # FinMind API 重試退避秒數（指數退避）
